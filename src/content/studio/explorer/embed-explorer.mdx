---
title: Embedding the Explorer
---

You can embed the [Apollo Studio Explorer](./explorer/) for any of your graphs in the Apollo Registry on other websites.
This is particularly helpful if your endpoint has CORS restrictions or if you want to embed the Explorer on internal sites.

You can embed both private and public graphs from Studio.
If you embed a private graph, the Embedded Explorer will ask visitors to your website to authenticate with Apollo before it can load.

> **Note:** If you want to embed Studio's Explorer on another website but are not using the Apollo registry, we distribute
> the JavaScript bundle for the Studio Sandbox on a CDN. Sandbox can load with a schema from introspection.
> See ["Embedding Sandbox"](./sandbox#embedding-sandbox).

## Setup

The easiest way to get embed instructions for one of your graphs is to visit your graph in Studio and use the Embed widget on the Explorer page.

1. [Go to Apollo Studio](https://studio.apollographql.com/) and open the variant whose Explorer page you want to embed.

2. Go to the variant's Explorer page.

3. Under the Explorer's Settings tab, find **Embed Explorer**:

   <img
     class="screenshot"
     src="../img/embed-explorer-modal.jpg"
     alt="Explorer embed dialog"
     width="600"
   />

4. Use the options on the left side of the dialog to customize the embedded Explorer's appearance and behavior to your liking.

5. Still in the dialog, use the tabs above the code snippet to select the snippet for your use case:

   - Use **React** for React apps where you can `npm install` the `@apollo/explorer` package.
   - Use **JavaScript** for non-React JavaScript apps where you can `npm install` the `@apollo/explorer` package.
   - Use **Built file on CDN** to use Apollo's CDN-hosted embedded Explorer.

6. Click **Copy** to copy the snippet, then paste it into your code.

> For descriptions of options shown in the dialog (along with advanced options that _aren't_ shown), [see below](#options).

### Embedding with a default operation

You can prepopulate your embedded Explorer with an operation from one of your existing Explorer tabs. If you do, the embedded Explorer includes all of the following automatically on load:

- The operation you selected
- Any variable names and values defined in the operation's associated tab that are _used_ by the operation
- All header names and values defined in the operation's associated tab

To prepopulate a default operation, use one of the following methods:

#### Option 1

Open the **•••** menu next to an operation and click **Embed this operation**:

<img
  class="screenshot"
  src="../img/explorer-embed-definition-menu.jpg"
  alt="Explorer embed link"
  width="300"
/>

#### Option 2

Open the share dropdown in the Explorer and select **Share as embed**:

<img
  class="screenshot"
  src="../img/explorer-embed-share-dropdown.jpg"
  alt="Explorer embed dropdown"
  width="300"
/>

### Authorization

**If you're embedding a [public variant](../org/graphs/#public-variants),** anyone with access to the embedded Explorer can view your schema and make queries against your variant.

**If you're embedding a private variant,** the embedded Explorer first asks users to authenticate by signing in to Studio. Authenticated users are then asked to authorize their Studio account to be used on the embedding webpage:

<img
  class="screenshot"
  src="../img/embed-authorize.jpg"
  alt="Explorer authorization screen"
  width="400"
/>

After authorizing, users can access the embedded Explorer, which includes schema navigation and visible operation collections.

## Options

The `EmbeddedExplorer` object takes an options object with the following structure (individual options are described below):

```js
{
  graphRef: 'acephei@current',
  endpointUrl: 'https://acephei-gateway.herokuapp.com',
  persistExplorerState: false,
  initialState: {
    document: `query ExampleQuery {
  me {
    id
  }
}
`,
    variables: { 'Variable1': 'ExampleValue' },
    headers: { 'Header1': 'ExampleValue' },
    displayOptions: {
      showHeadersAndEnvVars: true,
      docsPanelState: 'open',
      theme: 'light',
    },
  },
  handleRequest: (endpointUrl, options) => {
    return fetch(endpointUrl, {
      ...options,
      headers: {
          ...options.headers,
          authorization: `token ${token}`
      },
    })
  },
}
```

### Top-level options

These are the top-level fields you can include in the options object you pass to `new EmbeddedExplorer`:

<table class="field-table api-ref">

<thead>
  <tr>
    <th>
      Name /<br />
      Type
    </th>
    <th>Description</th>
  </tr>
</thead>

<tbody>
<tr class="required">
<td>

##### `graphRef`

`string`

</td>
<td>

**Required.** The graph ref for the variant you want to use the embedded Explorer with. Has the format `graph-id@variant-name`. This value is automatically populated in the Explorer's embed snippet.

The Explorer fetches this variant's schema from Apollo Studio to populate its Documentation panel and enable code completion.

If you omit this option, the Explorer _does_ still load, but it doesn't know which schema to fetch. This prevents the Explorer from providing critical features like documentation and code completion.

</td>
</tr>

<tr class="required">
<td>

##### `endpointUrl`

`string`

</td>
<td>

The endpoint URL of the variant you want to use the embedded Explorer with. This value is automatically populated in the Explorer's embed snippet.

**Required**, _unless_ you specify your own fetcher with the [`handleRequest`](#handlerequest) option.

</td>
</tr>

<tr>
<td>

##### `autoInviteOptions`

`{ accountId: string; inviteToken: string; }`

</td>
<td>

If the graph you are embedding is a [private variant](../org/graphs/#public-variants), we will by default only allow folks in your org to see the embedded Explorer. You can specify that you want anyone who visits your embedded Explorer to be automatically invited to your org with this config object. When you are grabbing the embed code from the Explorer settings in Studio, you have the option to select the role you want folks to be invited as, and the `inviteToken` and `accountId` will automatically populate.

If the graph you are embedding belongs to an SSO organization, folks will be able to log in with their SSO account and are automatically invited as the role you specify in the Org Settings page in Studio. Passing this in the embed config for a graph that belongs to an SSO account will not change any behavior. New users to your organization will always be invited as the role you specify in the Org Settings page in Studio.

</td>
</tr>

<tr>
<td>

##### `persistExplorerState`

`true | false`

</td>
<td>

If `true`, the embedded Explorer uses `localStorage` to persist its state (including operations, tabs, variables, and headers) between user sessions. This state is automatically populated in the Explorer on page load.

If `false`, the embedded Explorer loads with an example query based on your schema (unless you provide [`document`](#document)).

The default value is `false`.

</td>
</tr>

<tr>
<td>

##### `handleRequest`

`(url, options) => Promise`

</td>
<td>

By default, the embedded Explorer uses the `fetch` API to send requests to your `endpointUrl`. You can instead pass a _custom_ fetcher that's used to run all operations.

You might want to do this if you need to include specific headers in every request made from your embedded Explorer.

</td>
</tr>

<tr>
<td>

##### `includeCookies`

`boolean`

</td>
<td>

By default, the embedded Explorer uses the default `fetch` function to make requests, which passes `{ credentials: 'omit' }`.

You can pass `includeCookies: true` if you want `{ credentials: 'include' }` to be passed as an option whenever requests are make from the Explorer.

Read more about the `fetch` API and credentials [here](https://developer.mozilla.org/en-US/docs/Web/API/fetch#credentials).

</td>
</tr>

<tr>
<td>

##### `initialState`

`Object`

</td>
<td>

An object containing additional options related to the state of the embedded Explorer on page load.

For supported subfields, see [`initialState` options](#initialstate-options).

</td>
</tr>

</tbody>
</table>

### `initialState` options

These are the fields you can include in the `initialState` option you pass to `new EmbeddedExplorer`:

<table class="field-table api-ref">
  <thead>
    <tr>
      <th>Name /<br/>Type</th>
      <th>Description</th>
    </tr>
  </thead>

<tbody>
<tr>
<td>

##### `document`

`string`

</td>
<td>

A URI-encoded operation to populate in the Explorer's editor on load.

If you omit this, the Explorer initially loads an example query based on your schema.

If [`persistExplorerState`](#persistexplorerstate) is `true` _and_ you provide this option, the Explorer loads any of the user's tabs from `localStorage`, and it _also_ opens a _new_ tab with this operation.

Example:

```jsx
intialState: {
  document: `
  query ExampleQuery {
    books {
      title
    }
  }
`;
}
```

</td>
</tr>

<tr>
<td>

##### `variables`

`string`

</td>
<td>

A URI-encoded, serialized object containing initial variable values to populate in the Explorer on load.

If provided, these variables should apply to the initial query you provide for [`document`](#document).

Example:

```jsx
intialState: {
  variables: {
    userID: "abc123"
  },
}
```

</td>
</tr>

<tr>
<td>

##### `headers`

`string`

</td>
<td>

A URI-encoded, serialized object containing initial HTTP header values to populate in the Explorer on load.

Example:

```jsx
initialState: {
  headers: {
    authorization: "Bearer abc123";
  }
}
```

</td>
</tr>

</tbody>
</table>

### `displayOptions` options

These are the fields you can include in the `initialState.displayOptions` option you pass to `new EmbeddedExplorer`:

<table class="field-table api-ref">
  <thead>
    <tr>
      <th>Name /<br/>Type</th>
      <th>Description</th>
    </tr>
  </thead>

<tbody>
<tr>
<td>

##### `docsPanelState`

`"open" | "closed"`

</td>
<td>

If `open`, the Explorer's Documentation panel (the left column) is initially expanded. If `closed`, the panel is initially collapsed.

The default value is `open`.

</td>
</tr>

<tr>
<td>

##### `showHeadersAndEnvVars`

`true | false`

</td>
<td>

If `true`, the embedded Explorer includes the panels for [setting request headers and environment variables](./connecting-authenticating/). If `false`, those panels are not present.

The default value is `true`.

</td>
</tr>

<tr>
<td>

##### `theme`

`"dark" | "light"`

</td>
<td>

If `dark`, the Explorer's dark theme is used. If `light`, the light theme is used.

The default value is `dark`.

</td>
</tr>
</tbody>
</table>

## WYSIWYG Wizard

<WYSIWYGExplorer />
