---
title: GraphOS Cloud security
subtitle: 'Security overview of GraphOS Cloud on AWS'
description: 'A security and compliance overview of GraphOS Cloud on AWS, a managed GraphQL API solution that runs the Apollo Router on AWS.'
---

Apollo GraphOS Cloud on AWS is a managed API solution.
It runs the Apollo Router on AWS infrastructure to provide a high-performance, configurable GraphQL router.

This article provides a [security](#graphos-cloud-security) and [compliance](#graphos-cloud-compliance) overview of GraphOS Cloud on AWS.
It's intended for existing and potential Apollo users who run their federated GraphQL API on Apollo GraphOS Cloud on AWS.

<Note>

All [Dedicated](./dedicated) cloud routers run on AWS. [Serverless](/graphos/routing/#router-comparison) cloud routers don't run on AWS.

</Note>

<Caution>

This article represents the current state of Apollo GraphOS Cloud on AWS, which is subject to change without notice.
It doesn't provide any commitment or guarantee regarding the security of Apollo GraphOS Cloud on AWS.

This article is for informational purposes only.
Apollo users are responsible for making their own independent assessment of the information in this article.

</Caution>

## Shared security responsibility model

Apollo GraphOS Cloud on AWS operates on a shared security responsibility model between Apollo, AWS, and Apollo users.

<img src="to-do" alt="Shared security diagram" />

### Apollo responsibilities

Apollo is responsible for the security of:

- the Apollo GraphOS Cloud platform, including its network configuration
- API endpoints
- IAM identities
- Storage of cloud router secrets and configurations
- Cloud router runtimes
- Data in transit

### AWS responsibilities

Apollo relies on AWS for the security of the underlying infrastructure powering Apollo GraphOS Cloud on AWS.
This includes AWS IAM, AWS Global Infrastructure, its regions and availability zones, its network and hardware infrastructure, AWS API endpoints, and underlying worker nodes used by cloud routers.

### Apollo user responsibilities

Apollo users are responsible for the following:

- Providing cloud router configurations and GraphQL schemas that meet their security requirements
- The creation and management of cloud router secrets outside of the Apollo GraphOS Cloud platform
  - This includes the use of secure storage or secret generation solutions
- The security of their own infrastructure and cloud environments, whether they run on AWS or elsewhere, including:
  - Subgraphs
  - VPC Lattice services
  - OpenTelemetry receivers
  - External coprocessors
  - The security of data in transit and at rest in those environments

## GraphOS Cloud security

Apollo GraphOS Cloud on AWS addresses security through:

- [Compute isolation](#compute-isolation)
- [Network security](#network-security)
- [Security inherent to the Apollo Router itself](#apollo-router-security)
- [Secrets security](#secrets-security)

Apollo GraphOS Cloud deploys [security updates and patches](#security-updates) automatically.

### Compute isolation

<img src="to-do" alt="Compute isolation diagram" />

Apollo GraphOS Cloud on AWS runs each cloud router in a group of isolated hardware virtualized environments built on top of AWS services.
This is known as a _cloud router instance_. Each cloud router instance receives dedicated infrastructure capacity and doesn't share network interfaces, ephemeral storage, CPU, or memory with other instances.

### Network security

<img src="to-do" alt="Network security diagram" />

Apollo follows these practices to ensure network security:

- [Security groups](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-security-groups.html) block communication between cloud routers to segregate traffic within Apollo GraphOS Cloud VPCs.
- [Network access control lists (ACL)](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-network-acls.html) block communication on a list of restricted ports.
- [VPC Flow Logs](https://docs.aws.amazon.com/vpc/latest/userguide/flow-logs.html) and [CloudTrail](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-user-guide.html) are enabled and monitored to detect and respond to security events within the Apollo GraphOS Cloud VPC.

To mitigate the impact of security incidents, Apollo deploys cloud routers in small groups in isolated cells with no shared network infrastructure.
Each cell contains a dedicated VPC, load balancer, and other networking resources.

#### Private subgraph networking security

Cloud routers can use [AWS VPC Lattice](https://aws.amazon.com/vpc/lattice/) to communicate with private subgraphs without sending traffic over the public internet.

On top of the network security features used for all traffic by cloud routers, cloud routers sign all requests to private subgraphs using [AWS SigV4](https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html).
Cloud routers also encrypt traffic in transit between cloud router instances and the AWS VPC Lattice service endpoint.

### Apollo Router security

The Apollo Router is source available software that powers the federated GraphQL API capabilities of Apollo GraphOS Cloud on AWS.

Apollo contracts third-party firms to perform security audits of the Apollo Router. Apollo also performs automated security scans and collaborates with security researchers through its responsible disclosure policy, available on the [Apollo Router GitHub repository](https://github.com/apollographql/router).

The Apollo Router and the Apollo GraphOS Cloud on the AWS platform are built using the Rust programming language. Rust provides strong memory safety guarantees compared to other high-performance languages.

### Secrets security

Apollo encrypts cloud router secrets at rest using [AWS Key Management Service (KMS)](https://aws.amazon.com/kms/).
Cloud router instances use AWS IAM Roles to access secrets and can only access secrets related to their respective cloud routers.

Apollo employees can't access cloud router secrets or their decryption keys.

### Security updates

If a security issue that impacts cloud routers arises, Apollo creates an updated cloud router build. Cloud router builds consist of the underlying Apollo Router version and a unique number identifying the build number, for example, `1.30.1-4567`.

Once a build is created, Apollo deploys this new build to a fleet of cloud routers and performs automated scale and regression testing.
Once all tests pass, Apollo progressively rolls out the new build version to all cloud routers in production.
This rollout uses the same mechanism as any cloud router updates, such as those used for GraphQL schema or configuration changes.

During the update process, Apollo creates new cloud router instances and progressively migrates traffic to them. If any issue arises during this deployment, Apollo automatically rolls back traffic to the previous cloud router instances.

## GraphOS Cloud compliance

Apollo GraphOS Cloud on AWS meets the standards for SOC2 Type II.
Apollo contracts with third-party firms to perform security audits and penetration tests of the Apollo GraphOS Cloud on AWS infrastructure.
