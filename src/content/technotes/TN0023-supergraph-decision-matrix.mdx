---
title: Supergraph adoption decision matrix
id: TN0023
tags: [federation]
---

## When to adopt a federated supergraph

Conversations about consolidation using Apollo Federation can begin **as soon as it seems logical for multiple teams to manage different parts of the graph.** While each company may have unique considerations in answering the question of when and how to consolidate, Apollo has recognized patterns of success and failure when making this shift.

Historically at Apollo, we have seen that federation usually isn't a starting point for most enterprises in the early stages of adopting GraphQL. While it can be in some cases, implementing federation before running GraphQL in production with [one of the four pre-consolidation patterns](/technotes/TN0022-graphql-adoption-patterns) will likely require large-scale education and integration efforts for the teams who will be responsible for managing portions of the graph. It may also skew the focus of this process heavily toward data modelling across subgraphs instead of product delivery.

More often, as GraphQL's surface area expands across teams' tech stacks, pain points emerge as these teams attempt to scale within the various pre-consolidation patterns and perhaps even begin to experiment with other non-federated approaches to consolidation. Graph Champions within the organization emerge and drive the teams toward a federated architecture to unify the disconnected portions of the graph, increase developer velocity, and scale GraphQL APIs more effectively.

To help answer the "when" question for your company, we'll explore some common scenarios taken from real-world projects here at Apollo. To frame this decision-making process, we'll first examine the inherent strengths of adopting a federated graph.

## The strengths of a federated graph implementation

Just as network performance tuning is bound by the speed of light, the organizational optimizations offered by a federated GraphQL implementation is bound by some real-world constraints:

- **Consensus:** A collective understanding of graph entities, tools, and quality
- **Responsibility:** Clear delineation of graph “ownership,” education, and support available to teams
- **Delivery:** Speed of infrastructure change and velocity of product delivery
- **Performance:** Impact to consumer-facing operation resolution for distributed operations

As we've already explored, a federated GraphQL implementation is an _optimization toward separation of concerns_ (e.g. performance, team structure, delivery cadence, line-of-business alignment, or some combination of these) in exchange for a distributed system. The shift toward microservices also involved this tradeoff, but without a demand-driven, product-delivery orientation.

When deciding to break a monolithic graph into a federated one or when expanding a federated graph by adding new subgraphs and teams, a software architect should have a plan for addressing the above four areas of concern. The decision matrix below is annotated with each of these concerns and provides guidance in resolving any gaps in measuring, understanding, and addressing these concerns.

## Consolidation decision matrix

Whether you’re adding a new subgraph, splitting an existing service, or choosing to implement a federated graph for the first time, **a software architect’s most important responsibility is understanding the motivation for the change**. At a strategic level, GraphQL adoption and evolution to a federated implementation can be measured reliably using a simple matrix. By answering these questions periodically, technology leaders will have a continuous evaluation of when, and how, their GraphQL consolidation efforts should proceed.

Our recommendation is to keep this exercise simple and stable. Practitioners should use the consolidation decision matrix below as a regular artifact to aid in a formal decision-making process.

If the answers to **all** of these questions are “yes,” then you should proceed to laying out a clear path to a successful implementation.

If the answers to **any** these questions are unclear or “no,” then leaders should take caution in evolving their GraphQL implementation to federation:

- Use each “no” to identify and monitor metrics and indicators that demonstrate change is necessary
- Approach each “no” with a desire to connect with the team(s) doing the work and understand how this becomes a “yes”

| Concern        | Yes/No                                                                                                                                                                              | Remediation/Guidance                                                                                                                                                                           |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Consensus      | Are multiple teams contributing to your graph?                                                                                                                                      | If this is an initial federated implementation, identify your "Graph Champions" and establish education, review, and governance processes.                                                     |
| Responsibility | Are contributions to your graph by multiple teams regularly causing conflicts with one another?                                                                                     | If teams are collaborating well together, consider the potential switching cost of dividing teams or adding new teams.                                                                         |
| Delivery       | Is there a measurable slowdown or downward trend in GraphQL service change delivery?                                                                                                | If there isn’t a measurable, negative impact to product or service delivery, consider the additional complexity and support for this change.                                                   |
| Delivery       | Is there a concrete security, performance, or product development need to deliver portions of your existing schema by different teams or different services?                        | If consumers or internal stakeholders are not currently affected, consider revisiting the driving factors for this change.                                                                     |
| Consensus      | Is there a single source of governance for your GraphQL schema within the organization?                                                                                             | An initial Federated implementation, or an early expansion of Federation, are good opportunities to create support systems for education, consensus-building, governance, and quality control. |
| Consensus      | Does your GraphQL governance process have a reasonably robust education component to onboard new teams?                                                                             | Apollo has found that a robust education plan is a leading indicator of constant improvement and success.                                                                                      |
| Delivery       | Is your existing GraphQL schema demand-oriented and driven by concrete product needs?                                                                                               | Changes driven by data-modelling or internal architectural requirements may not have an ROI when weighed against the costs of infrastructure and organizational change.                        |
| Responsibility | Do you have a strong GraphQL change management, observability, and discoverability story, and do providers and consumers know where to go for these tools?                          | Graph administration and tooling such as Apollo Studio are key elements in a successful, organization-wide GraphQL initiative.                                                                 |
| Consensus      | Is your existing GraphQL schema internally consistent, and are your GraphQL schema design patterns well-understood by providers and consumers?                                      | Dividing responsibility or adding new schema to your Graph without strong governance may exacerbate existing friction or product/service delivery challenges.                                  |
| Performance    | Can you be reasonably sure that the cost of additional latency, complexity, and infrastructure management will have a positive ROI when bound by business timelines and objectives? | Ensure that the requirements for separating concerns have a performance and optimization budget.                                                                                               |

## Striving for constant improvement and success

The outcomes of a GraphQL consolidation project should be measured against the original, documented drivers for the transition to a federated graph. Aside from these measurements, certain actions and approaches must be undertaken to ensure that ongoing changes to the consolidated GraphQL architecture will be a success from a human and technology perspective.

For instance, teams may need to adopt new processes and practices to [evolve shared types collaboratively](/federation/federated-types/sharing-types) and in such a way that provides consistency for current consumers of the graph. Additionally, while an incremental cost, the infrastructure impact should be explored and verified against reference architectures during the project.
